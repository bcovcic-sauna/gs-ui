# @bc-gs/gs-ui

A comprehensive React UI component library built with Radix UI, Tailwind CSS, and TypeScript. This package provides a complete set of accessible, customizable components for building modern web applications.

## Features

- üé® **Beautiful & Accessible**: Built on Radix UI primitives for full accessibility
- üéØ **TypeScript**: Fully typed components with excellent IDE support
- üé® **Tailwind CSS**: Styled with Tailwind for easy customization
- üì¶ **Source Files Included**: Components are copied to your project for full control
- üîß **Tree-shakeable**: Import only what you need
- üöÄ **Modern**: Built for React 18+ and 19+

## Installation

```bash
npm install @bc-gs/gs-ui
```

## Setup

### 1. Configure Postinstall Script

Add a postinstall script to your `package.json` to automatically copy component source files to your project:

```json
{
  "scripts": {
    "postinstall": "node scripts/copy-ui-components.cjs"
  }
}
```

### 2. Create Copy Script

Create `scripts/copy-ui-components.cjs` in your project root:

```javascript
/**
 * Post-install script to copy UI components from @bc-gs/gs-ui package
 * to local components/ui directory.
 */

const fs = require('fs');
const path = require('path');

const PACKAGE_NAME = '@bc-gs/gs-ui';
const PACKAGE_ROOT = path.join(__dirname, '..', 'node_modules', PACKAGE_NAME);
const PACKAGE_SRC = path.join(PACKAGE_ROOT, 'src');
const TARGET_DIR = path.join(__dirname, '..', 'components', 'ui');

function copyFiles(src, dest) {
  if (!fs.existsSync(dest)) {
    fs.mkdirSync(dest, { recursive: true });
  }

  const entries = fs.readdirSync(src, { withFileTypes: true });
  const copiedFiles = [];

  for (const entry of entries) {
    const srcPath = path.join(src, entry.name);
    const destPath = path.join(dest, entry.name);

    if (entry.isDirectory()) {
      // Skip utils folder - use your existing lib/utils.ts
      if (entry.name === 'utils') continue;
      
      const subFiles = copyFiles(srcPath, destPath);
      copiedFiles.push(...subFiles);
    } else if (entry.name.endsWith('.tsx') || entry.name.endsWith('.ts')) {
      // Read file and fix imports to use your lib/utils
      let content = fs.readFileSync(srcPath, 'utf8');
      
      // Fix imports: ../utils/utils or ./utils/utils -> @/lib/utils
      content = content.replace(/from ["']\.\.\/utils\/utils["']/g, 'from "@/lib/utils"');
      content = content.replace(/from ["']\.\/utils\/utils["']/g, 'from "@/lib/utils"');
      
      fs.writeFileSync(destPath, content);
      copiedFiles.push(entry.name);
    }
  }
  
  return copiedFiles;
}

function main() {
  console.log(`üì¶ Copying UI component sources from ${PACKAGE_NAME}...`);

  if (!fs.existsSync(PACKAGE_SRC)) {
    console.warn(`‚ö†Ô∏è  Warning: ${PACKAGE_NAME}/src not found in node_modules.`);
    console.warn(`   Make sure the package is installed and includes 'src' in its 'files' field.`);
    console.warn(`   Run 'npm install' first.`);
    return;
  }

  // Remove existing components/ui directory to ensure clean copy
  if (fs.existsSync(TARGET_DIR)) {
    console.log(`üóëÔ∏è  Removing existing components/ui directory...`);
    fs.rmSync(TARGET_DIR, { recursive: true, force: true });
  }

  console.log(`üìã Copying to ${path.relative(process.cwd(), TARGET_DIR)}...`);
  
  try {
    let totalFiles = 0;

    // Copy component files from src/components/ directly into components/ui/
    const componentsDir = path.join(PACKAGE_SRC, 'components');
    if (fs.existsSync(componentsDir)) {
      const files = copyFiles(componentsDir, TARGET_DIR);
      totalFiles += files.length;
      console.log(`   ‚úì Copied ${files.length} component files (imports fixed to @/lib/utils)`);
    }

    // Create index.ts barrel file that exports all components
    const componentFiles = fs.readdirSync(TARGET_DIR)
      .filter(f => f.endsWith('.tsx') || (f.endsWith('.ts') && f !== 'index.ts'))
      .map(f => f.replace(/\.(tsx?|ts)$/, ''));
    
    const indexContent = `// Auto-generated by copy-ui-components.cjs
// Do not modify - this file is regenerated on each install

${componentFiles.map(name => `export * from './${name}';`).join('\n')}
`;
    
    fs.writeFileSync(path.join(TARGET_DIR, 'index.ts'), indexContent);
    console.log(`   ‚úì Created index.ts with ${componentFiles.length} exports`);
    
    console.log(`‚úÖ Successfully copied ${totalFiles} source files!`);
    console.log(`   Components are now available at: components/ui/`);
    console.log(`   Import example: import { Button } from '@/components/ui';`);
    console.log(`   ‚ö†Ô∏è  Note: Do not modify files in components/ui/`);
    console.log(`   They will be overwritten on package updates.`);
  } catch (error) {
    console.error(`‚ùå Error copying components:`, error);
    process.exit(1);
  }
}

main();
```

### 3. Ensure Your Utils File

Make sure you have a `lib/utils.ts` file with the `cn` utility function:

```typescript
import { clsx, type ClassValue } from "clsx";
import { twMerge } from "tailwind-merge";

export function cn(...inputs: ClassValue[]) {
  return twMerge(clsx(inputs));
}
```

## Usage

After installation and running the postinstall script, components will be available in your `components/ui` directory. Import them like any other local component:

```tsx
import { Button } from '@/components/ui';
import { Card, CardHeader, CardTitle, CardContent } from '@/components/ui';

function MyComponent() {
  return (
    <Card>
      <CardHeader>
        <CardTitle>Hello World</CardTitle>
      </CardHeader>
      <CardContent>
        <Button>Click me</Button>
      </CardContent>
    </Card>
  );
}
```

## Components

### Core UI Components

- **Button** - Versatile button component with multiple variants
- **Input** - Text input field
- **Card** - Container component with header, content, and footer
- **Badge** - Small status badge
- **Label** - Form label
- **Textarea** - Multi-line text input
- **Skeleton** - Loading placeholder
- **Separator** - Visual divider

### Form Components

- **Checkbox** - Checkbox input
- **Switch** - Toggle switch
- **RadioGroup** - Radio button group
- **Select** - Dropdown select
- **PriceInput** - Specialized price input with currency formatting

### Layout Components

- **Table** - Data table with sorting and styling
- **Tabs** - Tabbed interface
- **Accordion** - Collapsible content sections

### Overlay Components

- **Alert** - Alert message display
- **AlertDialog** - Modal alert dialog
- **Popover** - Floating popover
- **Sheet** - Slide-out panel
- **SelectorSheet** - Alternative sheet component
- **Drawer** - Mobile-friendly drawer
- **Tooltip** - Hover tooltip

### Menu Components

- **DropdownMenu** - Dropdown menu
- **Menubar** - Horizontal menu bar
- **NavigationMenu** - Navigation menu with submenus

### Date Components

- **Calendar** - Date picker calendar
- **DatePicker** - Complete date picker component

### Specialized Components

- **Avatar** - User avatar with fallback
- **ButtonGroup** - Grouped buttons
- **SelectorCheckbox** - Enhanced checkbox
- **CountrySelect** - Country selection dropdown
- **Chart** - Chart components (ChartContainer, ChartTooltip, ChartLegend, etc.)

### Utilities

- **cn** - Class name utility (combines clsx and tailwind-merge)
- **isValidEmail** - Email validation helper
- **isNumber** - Type guard for numbers

## Peer Dependencies

This package uses peer dependencies to avoid version conflicts. You'll need to install the required peer dependencies in your project. npm will automatically install them when you run `npm install` if they're listed in your `package.json`.

The required peer dependencies include:

- **React**: `react` (^18.0.0 || ^19.0.0), `react-dom` (^18.0.0 || ^19.0.0)
- **Radix UI**: All `@radix-ui/react-*` packages used by the components
- **Utilities**: `class-variance-authority`, `clsx`, `date-fns`, `i18n-iso-countries`, `lucide-react`, `react-day-picker`, `recharts`, `tailwind-merge`

See the package's `package.json` for the complete list of peer dependencies and their version requirements.

## Architecture

This package uses a unique architecture where component source files are copied to your project's `components/ui` directory during installation. This approach provides several benefits:

1. **Full Source Access**: You have access to the actual TypeScript source files, not just compiled JavaScript
2. **AI Tool Compatibility**: AI coding assistants can read and understand the component implementations
3. **Build Flexibility**: Your build system compiles the components, giving you full control
4. **Tree Shaking**: Only components you import are included in your bundle
5. **Version Control**: Component versions are tracked in your repository

### Important Notes

- ‚ö†Ô∏è **Do not modify files in `components/ui/`** - They will be overwritten on package updates
- ‚úÖ Components are automatically updated when you run `npm install` after a package update
- ‚úÖ The `index.ts` barrel file is auto-generated - do not edit it manually

## TypeScript

This package is written in TypeScript and includes full type definitions. All components are fully typed with proper prop interfaces and TypeScript support.

## Styling

Components are styled with Tailwind CSS. Make sure your project has Tailwind CSS configured. The components use Tailwind utility classes and can be customized by:

1. Overriding className props
2. Using Tailwind's configuration to customize theme values
3. Modifying the component source files (though they'll be overwritten on updates)

## Examples

### Button Variants

```tsx
import { Button } from '@/components/ui';

<Button variant="default">Default</Button>
<Button variant="destructive">Destructive</Button>
<Button variant="outline">Outline</Button>
<Button variant="secondary">Secondary</Button>
<Button variant="ghost">Ghost</Button>
<Button variant="link">Link</Button>
```

### Form with Validation

```tsx
import { Input, Label, Button } from '@/components/ui';

<form>
  <div>
    <Label htmlFor="email">Email</Label>
    <Input id="email" type="email" />
  </div>
  <Button type="submit">Submit</Button>
</form>
```

### Dialog

```tsx
import { AlertDialog, AlertDialogTrigger, AlertDialogContent, AlertDialogTitle, AlertDialogDescription, AlertDialogAction, AlertDialogCancel } from '@/components/ui';

<AlertDialog>
  <AlertDialogTrigger>Open</AlertDialogTrigger>
  <AlertDialogContent>
    <AlertDialogTitle>Are you sure?</AlertDialogTitle>
    <AlertDialogDescription>
      This action cannot be undone.
    </AlertDialogDescription>
    <AlertDialogAction>Continue</AlertDialogAction>
    <AlertDialogCancel>Cancel</AlertDialogCancel>
  </AlertDialogContent>
</AlertDialog>
```

### Chart

```tsx
import { ChartContainer, ChartTooltip, ChartTooltipContent } from '@/components/ui';
import { LineChart, Line, XAxis, YAxis } from 'recharts';

const chartData = [
  { month: 'January', desktop: 186 },
  { month: 'February', desktop: 305 },
];

const chartConfig = {
  desktop: {
    label: 'Desktop',
    color: 'hsl(var(--chart-1))',
  },
};

<ChartContainer config={chartConfig}>
  <LineChart data={chartData}>
    <XAxis dataKey="month" />
    <YAxis />
    <ChartTooltip content={<ChartTooltipContent />} />
    <Line dataKey="desktop" type="monotone" stroke="var(--color-desktop)" />
  </LineChart>
</ChartContainer>
```

## Updating

When a new version is released, update the package:

```bash
npm install @bc-gs/gs-ui@latest
```

The postinstall script will automatically copy the updated components to your `components/ui` directory.

## Development

### Building the Package

```bash
npm run build
```

### Development Mode

```bash
npm run dev
```

## License

ISC

## Support

For issues, questions, or contributions, please refer to the package repository.

---

**Note**: This package is designed to work with modern React applications using TypeScript and Tailwind CSS. Ensure your project meets these requirements before installation.

